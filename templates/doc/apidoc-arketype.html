{% extends "layouts/apidoc.html" %}
{% load layout_extras %}
{% load i18n %}
{% load menus %}
{% block title %}{% block title-twitter %}
{% trans "The ARKetype API, Version 2" %}
{% endblock %}{% endblock %}
{% block heading %}
{% autoescape off %}
{% content_heading _("The ARKetype API, Quick Version 1") %}
{% endautoescape %}
{% endblock %}
{% block content %}
<div class="container vertical-buffer-20">
   <div class="alert alert-danger" role="alert">WORK IN PROGRESS</div>
   <p>ARKetype provides an easy way to obtain, describe, and manage long-term
   identifiers for digital objects. It can be accessed via a web User Interface
   (UI) and a web Application Programming Interface (API). A few account
   management functions can be accessed from the UI only, but otherwise all of
   ARKetype's functionality is available through the API. This document
   describes a short version of the Version 2 of the ARKetype API.</p>

   {# <p>To get the full documentation, please refer to <a href="/doc/apidoc.html">this page</a></p> #}

   <p class="h3 text-primary">Table of contents</p>
   <ul>
      <li><a href="#arketype-api-operations">Operations</a>
         <ul>
            <li><a href="#arketype-api-operations-get">Get identifier metadata</a></li>
            <li><a href="#arketype-api-operations-create">Create identifier</a></li>
            <li><a href="#arketype-api-operations-mint">Mint identifier</a></li>
            <li><a href="#arketype-api-operations-update">Update identifier</a>
               <ul>
                  <li><a href="#arketype-api-operations-create-update">Update identifier with the create operation</a></li>
               </ul>
            </li>
            <li><a href="#arketype-api-operations-delete">Delete identifier</a></li>
         </ul>
      </li>
      <li><a href="#arketype-api-metadata">Metadata</a>
         <ul>
            <li><a href="#arketype-api-metadata-internal">Internal</a></li>
            <li><a href="#arketype-api-metadata-codes">Codes</a></li>
            <li><a href="#arketype-api-profiles">Profiles</a>
               <ul>
                  <li><a href="#arketype-api-profiles-erc">ERC</a></li>
                  <li><a href="#arketype-api-profiles-datacite">DataCite</a></li>
                  <li><a href="#arketype-api-profiles-dublincore">DublinCore</a></li>
               </ul>
            </li>
         </ul>
      </li>
   </ul>
   <div>
      <p id="arketype-api-operations" class="h3 text-primary">Operations</p>
      <p class="h5">The API allows those operations</p>
      <p id="arketype-api-operations-get" class="h4 text-primary">Get identifier metadata</p>
         <div class="alert alert-info text-left" role="alert">
            <span class="badge badge-light"><b>GET</b></span>
            {% getOptions "DEFAULT.ezid_base_url" %}/id/ark:/<b>NAAN</b>/<b>identifier</b>
         </div>
         <p>This allows to retrieve metadats of an identifier via a GET request
         to the identifier URL. This requires no identification to use.</p>
      <p id="arketype-api-operations-create" class="h4 text-primary">Create identifier</p>
         <div class="alert alert-info text-left" role="alert">
            <span class="badge badge-light"><b>PUT</b></span>
            {% getOptions "DEFAULT.ezid_base_url" %}/id/ark:/<b>NAAN</b>/<b>identifier</b>
         </div>
         <p>This allows to create an identifier with a predefinied value via
            a PUT request. It can be asigned with metadata or left blank.
            (to be updated later)</p>
         <p>User credentials are required and user need to have the permission
         to create an identifier with the shoulder.</p>
      <p id="arketype-api-operations-mint" class="h4 text-primary">Mint identifier</p>
         <div class="alert alert-info text-left" role="alert">
            <span class="badge badge-light"><b>POST</b></span>
            {% getOptions "DEFAULT.ezid_base_url" %}/shoulder/ark:/<b>NAAN</b>/<b>shoulder</b>
         </div>
         <p>This is the same than the create request above but it differs in
         the fact that the identifier is randomly generated rather than given
         and in the kind of request it uses as this one is a POST request.
         </p>
      <p id="arketype-api-operations-update" class="h4 text-primary">Update identifier</p>
         <div class="alert alert-info text-left" role="alert">
            <span class="badge badge-light"><b>POST</b></span>
            {% getOptions "DEFAULT.ezid_base_url" %}/id/ark:/<b>NAAN</b>/<b>identifier</b>
         </div>
         <p>This allows to update metadata of an already existing identifiers</p>
         <p>Authentification and only the owner of the identifier or some other
         users can edit it.</p>
      <p id="arketype-api-operations-create-update" class="h5 text-primary">Update identifier with the create operation</p>
         <div class="alert alert-info text-left" role="alert">
            <span class="badge badge-light"><b>PUT</b></span>
            {% getOptions "DEFAULT.ezid_base_url" %}/id/ark:/NAAN/identifier<b>?update_if_exists=yes</b>
         </div>
         <p>An other way to update an identifier is by using the create
            operation and adding <b>?update_if_exists=yes</b> at the end of the URL.</p>
         <p>That will create the identifier or update it if it already exists.</p>
      <p id="arketype-api-operations-delete" class="h4 text-primary">Delete identifier</p>
         <div class="alert alert-info text-left" role="alert">
            <span class="badge badge-light"><b>DELETE</b></span>
            {% getOptions "DEFAULT.ezid_base_url" %}/id/ark:/<b>NAAN</b>/<b>identifier</b>
         </div>
         <p>The current use of the DELETE operation is for identifiers that
         were created with a reserved status. This means those identifiers aren't
         yet public and can be fully deleted without much issue.</p>
         <p>The alternative to deletion is to update an identifier and removes
            its metadata.</p>
   </div>
   <div>
      <p id="arketype-api-metadata" class="h3 text-primary">Metadata</p>
      <p id="arketype-api-metadata-internal" class="h4 text-primary">Internal</p>
      <p>Those metadata are reserved and used specifically by ARKetype.
      They all begin with an underscore as to easily distinguishes them of the
      other type.</p>
      <p>The first column, <b>Updatable</b>, indicates if the metadata can be
      updated by the user or not.</p>
      <table class="table table-striped">
         <thead>
            <tr class="d-flex bg-info text-light">
               <th class="col-1" scope="col">Updatable</th>
               <th class="col-2" scope="col">Metadata</th>
               <th class="col-6" scope="col">Description</th>
               <th class="col-3" scope="col">Example</th>
            </tr>
         </thead>
         <tbody>
            <tr class="d-flex">
               <th class="col-1" scope="row">yes</th>
               <td class="col-2">_owner</td>
               <td class="col-6">The identifier's owner. Only updatable by group administrators</td>
               <td class="col-3">jsmith</td>
            </tr>
            <tr class="d-flex">
               <th class="col-1" scope="row">no</th>
               <td class="col-2">_ownergroup</td>
               <td class="col-6">The identifier's owning group, which is currently restricted to be the identifier's owner's group.</td>
               <td class="col-3">@arketype</td>
            </tr>
            <tr class="d-flex">
               <th class="col-1" scope="row">no</th>
               <td class="col-2">_created</td>
               <td class="col-6">The time the identifier was created expressed as a Unix timestamp.</td>
               <td class="col-3">1300812337</td>
            </tr>
            <tr class="d-flex">
               <th class="col-1" scope="row">no</th>
               <td class="col-2">_updated</td>
               <td class="col-6">The time the identifier was last updated expressed as a Unix timestamp.</td>
               <td class="col-3">1300913550</td>
            </tr>
            <tr class="d-flex">
               <th class="col-1" scope="row">yes</th>
               <td class="col-2">_target</td>
               <td class="col-9" colspan="2">The identifier's target URL. Defaults to the
                  identifier's ARKetype URL. That is, the default target URL
                  for identifier foo is the self-referential URL
                  {% getOptions "DEFAULT.ezid_base_url" %}/id/foo.</td>
            </tr>
            <tr class="d-flex">
               <th class="col-1" scope="row">yes</th>
               <td class="col-2">_profile</td>
               <td class="col-6">The identifier's preferred metadata profile (see Metadata profiles next).</td>
               <td class="col-3">erc (default)| datacite | dc</td>
            </tr>
            <tr class="d-flex">
               <th class="col-1" scope="row">yes</th>
               <td class="col-2">_status</td>
               <td class="col-6">The identifier's status</td>
               <td class="col-3">public (dfault)| reserved | unavailable</td>
            </tr>
            <tr class="d-flex">
               <th class="col-1" scope="row">yes</th>
               <td class="col-2">_export</td>
               <td class="col-6">Determines if the identifier is publicized by exporting it to external indexing and harvesting services.</td>
               <td class="col-3">yes (default)| no</td>
            </tr>
            <tr class="d-flex">
               <th class="col-1" scope="row">yes</th>
               <td class="col-2">_crossref</td>
               <td class="col-6">If returned, indicates that the identifier is registered with Crossref (or, in the case of a reserved identifier, will be registered), and also indicates the status of the registration process. When setting, must be set to "yes". </td>
               <td class="col-3">yes | successfully registered</td>
            </tr>
         </tbody>
      </table>
      <p id="arketype-api-metadata-codes" class="h4 text-primary">Codes</p>
      <p>If needed, you can supply one of the following code during creation or
         update as placeholder.</p>
      <p>The ARKetype system might uses the as well when needed.</p>
      <table class="table table-striped">
         <thead>
            <tr class="d-flex bg-info text-light">
               <th class="col-3" scope="col">Code</th>
               <th class="col-9" scope="col">Description</th>
            </tr>
         </thead>
         <tbody>
            <tr class="d-flex">
               <th class="col-3" scope="row">(:unac)</th>
               <td class="col-9">temporarily inaccessible</td>
            </tr>
            <tr class="d-flex">
               <th class="col-3" scope="row">(:unal)</th>
               <td class="col-9">unallowed; intentionally suppressed</td>
            </tr>
            <tr class="d-flex">
               <th class="col-3" scope="row">(:unap)</th>
               <td class="col-9">not applicable; makes no sense</td>
            </tr>
            <tr class="d-flex">
               <th class="col-3" scope="row">(:unas)</th>
               <td class="col-9">unassigned (e.g., untitled)</td>
            </tr>
            <tr class="d-flex">
               <th class="col-3" scope="row">(:unav)</th>
               <td class="col-9">unavailable; possibly unknown</td>
            </tr>
            <tr class="d-flex">
               <th class="col-3" scope="row">(:unkn)</th>
               <td class="col-9">known to be unknown (e.g., anonymous)</td>
            </tr>
            <tr class="d-flex">
               <th class="col-3" scope="row">(:none)</th>
               <td class="col-9">never had a value, never will</td>
            </tr>
            <tr class="d-flex">
               <th class="col-3" scope="row">(:null)</th>
               <td class="col-9">explicitly and meaningfully empty</td>
            </tr>
            <tr class="d-flex">
               <th class="col-3" scope="row">(:tba)</th>
               <td class="col-9">to be assigned or announced later</td>
            </tr>
            <tr class="d-flex">
               <th class="col-3" scope="row">(:etal)</th>
               <td class="col-9">too numerous to list (et alia)</td>
            </tr>
            <tr class="d-flex">
               <th class="col-3" scope="row">(:at)</th>
               <td class="col-9">the real value is at the given URL or identifier</td>
            </tr>
         </tbody>
      </table>
      <p id="arketype-api-profiles" class="h4 text-primary">Profiles</p>
      <p class="h5">ARKetype was built on top of three metadata profile to use
      when creating an ARK</p>
      <p id="arketype-api-profiles-erc" class="h5 text-primary">ERC</p>
      <p>ERC is the default profile and required the following metadata.</p>
      <table class="table table-striped">
         <thead>
            <tr class="d-flex bg-info text-light">
               <th class="col-3" scope="col">Metadata</th>
               <th class="col-9" scope="col">Description</th>
            </tr>
         </thead>
         <tbody>
            <tr class="d-flex">
               <th class="col-3" scope="row">erc.who</th>
               <td class="col-9">The name of the entity responsible for the ARK.
               (author of a book, creator of a dataset or in some case, the one
               behind the creation of the ARK itself)</td>
            </tr>
            <tr class="d-flex">
               <th class="col-3" scope="row">erc.what</th>
               <td class="col-9">A readable name describing the identifier
                  (can be the name of a book or some title to describe the ARK)</td>
            </tr>
            <tr class="d-flex">
               <th class="col-3" scope="row">erc.when</th>
               <td class="col-9">A timestamp (yan be only a year, a full date or
                   a date range)</td>
            </tr>
         </tbody>
      </table>
      <p id="arketype-api-profiles-datacite" class="h5 text-primary">DataCite</p>
      <p>The DataCite profile is commonly used for DOIs but ARKs can use them
      as well. It allows a better description of an item. The following
      metadata are the required one by ARKetype but other can be added,
      more details <a href="http://schema.datacite.org/">here</a>.</p>
      <table class="table table-striped">
         <thead>
            <tr class="d-flex bg-info text-light">
               <th class="col-3" scope="col">Metadata</th>
               <th class="col-9" scope="col">Description</th>
            </tr>
         </thead>
         <tbody>
            <tr class="d-flex">
               <th class="col-3" scope="row">datacite.creator</th>
               <td class="col-9"><p>The main researchers involved in producing the
               data, or the authors of the publication in priority order.
               Each name may be a corporate, institutional, or personal name.</p>
               <p>In personal names list family name before given name, as in:
                  Shakespeare, William</p></td>
            </tr>
            <tr class="d-flex">
               <th class="col-3" scope="row">datacite.title</th>
               <td class="col-9">A name or title by which the data or publication is known.</td>
            </tr>
            <tr class="d-flex">
               <th class="col-3" scope="row">datacite.publisher</th>
               <td class="col-9">A holder of the data (e.g., an archive) or the
                  institution which submitted the work. In the case of datasets,
                  the publisher is the entity primarily responsible for making
                  the data available to the research community.</td>
            </tr>
            <tr class="d-flex">
               <th class="col-3" scope="row">datacite.publicationyear</th>
               <td class="col-9">The year when the data was or will be made
               publicly available. If an embargo period is in effect, use the
               year when the embargo period ends.</td>
            </tr>
            <tr class="d-flex">
               <th class="col-3" scope="row">datacite.resourcetype</th>
               <td class="col-9">The general type and, optionally, specific
                  type of the data. The general type must be one of the
                  controlled vocabulary terms defined in the DataCite Metadata Scheme:
                  <ul>
                     <li>Audiovisual</li>
                     <li>Collection</li>
                     <li>Dataset</li>
                     <li>Event</li>
                     <li>Image</li>
                     <li>InteractiveResource</li>
                     <li>Model</li>
                     <li>PhysicalObject</li>
                     <li>Service</li>
                     <li>Software</li>
                     <li>Sound</li>
                     <li>Text</li>
                     <li>Workflow</li>
                     <li>Other</li>
                  </ul>
                  Specific types are unconstrained. If a specific type is given,
                  it must be separated from the general type by a forward slash ("/"), as in:
                     Image/Photograph
               </td>
            </tr>
         </tbody>
      </table>
      <p id="arketype-api-profiles-dublincore" class="h5 text-primary">DublinCore</p>
      <p>The last profile is based on the <a href="https://www.dublincore.org/specifications/dublin-core/dces/">Dublin Core Metadata Element Set</a>.</p>
      <table class="table table-striped">
         <thead>
            <tr class="d-flex bg-info text-light">
               <th class="col-3" scope="col">Metadata</th>
               <th class="col-9" scope="col">Description</th>
            </tr>
         </thead>
         <tbody>
            <tr class="d-flex">
               <th class="col-3" scope="row">dc.creator</th>
               <td class="col-9">The person or entity responsible for creating
                  the resource.</td>
            </tr>
            <tr class="d-flex">
               <th class="col-3" scope="row">dc.title</th>
               <td class="col-9">The name of the resource.</td>
            </tr>
            <tr class="d-flex">
               <th class="col-3" scope="row">dc.publisher</th>
               <td class="col-9">The person or entity responsible fot making the
                   resource available.</td>
            </tr>
            <tr class="d-flex">
               <th class="col-3" scope="row">dc.date</th>
               <td class="col-9"><p>The date the resource was made available
                  (or when it was updated or any event worth mentioning).</p>
               <p>The recommanded format is <b>YYYY-MM-DD</b>.</p></td>
            </tr>
            <tr class="d-flex">
               <th class="col-3" scope="row">dc.type</th>
               <td class="col-9">One of the following types: <ul>
                <li>Collection</li>
                <li>Dataset</li>
                <li>Event</li>
                <li>Image</li>
                <li>InteractiveResource</li>
                <li>MovingImage</li>
                <li>PhysicalObject</li>
                <li>Service</li>
                <li>Software</li>
                <li>Sound</li>
                <li>StillImage</li>
                <li>Text</li>
               </ul></td>
            </tr>
         </tbody>
      </table>
   </div>
</div>
{% endblock %}
